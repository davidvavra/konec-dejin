
    this.units = this.db.list("units", ref => ref.orderByChild("delegate").equalTo(this.delegateId)).valueChanges().pipe(
      map(
        units => {
          return units.filter(unit => {
            return unit["state"] == "alive" || unit["state"] == "dead" || unit["state"] == "other"
          }).map(unit => {
            let state = findValueName(UNIT_STATES, unit["state"])
            let type = (unit["type"] == "active_hero" || unit["type"] == "army") ? "Aktivní" : "Pasivní"
            let visibility = findValueName(UNIT_VISIBILITIES, unit["visibility"])
            return { name: unit["name"], state: state,  type: type, visibility: visibility, delegateDescription: unit["delegateInfo"]}
          })
        }
      )
    )

    
export interface Unit {
    name: string,
    state: string,
    type: string,
    visibility: string,
    delegateDescription: string
}


    Vyhodit osobní přehled

    Nahradit switcherem jednotky | depeše